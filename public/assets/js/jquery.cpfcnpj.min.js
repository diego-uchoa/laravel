!function(n){function t(n){if(null!=n.match(/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/)){var t,i=n.substring(0,2),a=n.substring(3,6),r=n.substring(7,10),l=n.substring(11,15),u=n.substring(16,18),e=!0;s=i+a+r+l+u,c=s.substr(0,12);var f=s.substr(12,2),d=0;for(t=0;t<12;t++)d+=c.charAt(11-t)*(2+t%8);for(0==d&&(e=!1),(d=11-d%11)>9&&(d=0),f.charAt(0)!=d&&(e=!1),d*=2,t=0;t<12;t++)d+=c.charAt(11-t)*(2+(t+1)%8);return(d=11-d%11)>9&&(d=0),f.charAt(1)!=d&&(e=!1),e}return!0}function i(n){if(null!=n.match(/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/)){var t,i=n.substring(0,3),a=n.substring(4,7),r=n.substring(8,11),l=n.substring(12,14),u=!0;s=i+a+r+l,c=s.substr(0,9);var e=s.substr(9,2),f=0;for(t=0;t<9;t++)f+=c.charAt(t)*(10-t);for(0==f&&(u=!1),(f=11-f%11)>9&&(f=0),e.charAt(0)!=f&&(u=!1),f*=2,t=0;t<9;t++)f+=c.charAt(t)*(11-t);return(f=11-f%11)>9&&(f=0),e.charAt(1)!=f&&(u=!1),u}return!0}n.fn.cpfcnpj=function(s){var a=n.extend({mask:!1,validate:"cpfcnpj",event:"focusout",handler:n(this),ifValid:null,ifInvalid:null},s);if(a.mask)if(null==jQuery().mask)a.mask=!1,console.log("jQuery mask not found.");else if("cpf"==a.validate)n(this).mask("999.999.999-99");else if("cnpj"==a.validate)n(this).mask("99.999.999/9999-99");else{var r=n(this),l={onKeyPress:function(n){var s=["000.000.000-009","00.000.000/0000-00"];msk=n.length>14?s[1]:s[0],r.mask(msk,this)}};n(this).mask("000.000.000-009",l)}return this.each(function(){var s=null,r=n(this);n(document).on(a.event,a.handler,function(){if(14==r.val().length||18==r.val().length?"cpf"==a.validate?s=i(r.val()):"cnpj"==a.validate?s=t(r.val()):"cpfcnpj"==a.validate&&(i(r.val())?(s=!0,"cpf"):t(r.val())?(s=!0,"cnpj"):s=!1):s=!0,n.isFunction(a.ifValid))if(null!=s&&s){if(n.isFunction(a.ifValid)){var l=n.Callbacks();l.add(a.ifValid),l.fire(r)}}else n.isFunction(a.ifInvalid)&&a.ifInvalid(r)})})}}(jQuery);